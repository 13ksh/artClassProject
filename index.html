<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>전체화면 장난</title>
<style>
  body {
    background: black;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    font-family: sans-serif;
    font-size: 2em;
  }
  img {
    max-width: 100vw;
    max-height: 100vh;
    object-fit: contain;
  }
</style>
</head>
<body>
  <div id="container">
    <img src="https://picsum.photos/1920/1080" alt="랜덤 그림">
    <p>그림 전체화면 보기 (눌러봐)</p>
  </div>

  <script>
    const container = document.getElementById('container');
    let exitCount = 0;
    let lock = false;

    container.addEventListener('click', () => {
      if (lock) return;
      goFullScreen(container);
    });

    document.addEventListener('fullscreenchange', () => {
      if (!document.fullscreenElement && !lock) {
        exitCount++;
        if (exitCount === 1) {
          alert("야 하지마.");
          goFullScreen(container);
        } else if (exitCount === 2) {
          alert("진짜 하지 말라고.");
          goFullScreen(container);
        } else if (exitCount >= 3) {
          alert("이제 끝났어 ㅋㅋ");
          lock = true;
          while (true) {
            alert(Math.random());
          }
        }
      }
    });

    function goFullScreen(elem) {
      if (elem.requestFullscreen) elem.requestFullscreen();
      else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
      else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
    }
  </script>
</body>
</html>
